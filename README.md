# Л/Р № 5. Параметризация тестов и составление наборов тестовых данных
Эта ветка содержит проект по автоматическому тестированию [Restful-Booker](https://restful-booker.herokuapp.com/).

Данный сайт часто используется в учебных целях для изучения работы с RESTful API, включая методы HTTP (GET, POST, PUT, DELETE) и работу с JSON-данными. Он предоставляет функциональность для бронирования номеров в отеле, что позволяет создавать, просматривать, обновлять и удалять бронирования. Сайт также включает в себя возможности для авторизации и аутентификации пользователей.

## Тест-кейсы
В процессе выполнения работы были реализованы 2 запроса:
1. Создание токена 
2. Создание бронирования

Для каждого запроса тестовые наборы данных были сформированы с использованием метода *эквивалентного разделения*. Они разделены на две категории:

#### Валидные данные
Используются для проверки корректной обработки API запросов, содержащих правильные значения всех обязательных и необязательных полей. Например, запрос с заполнением всех полей в соответствии с ожидаемым форматом.

#### Невалидные данные
Предназначены для проверки устойчивости API к ошибочным данным. Включают в себя случаи, такие как:
- Пропущенные обязательные поля
- Неверные форматы данных
- Пустое тело запроса

## CI/CD и Allure отчёты о прохождении тестов
В рамках CI/CD пайплайна автоматически генерируются Allure отчёты, которые публикуются на GitHub Pages. Вы можете просмотреть последний отчёт по следующей ссылке:

**https://seitovaralina.github.io/Programming-Practicum/**

## Структура проекта

Проект организован следующим образом:
```
.
├── api
│   ├── api.py
│   └── restful_booker_api.py
├── data
├── fixture
│   ├── api_context.py
│   └── restful_booker_api.py
├── helper
├── model
│   ├── booking_model.py
│   └── token_model.py
├── schema
├── test
│   ├── test_create_token.py
│   ├── test_create_booking.py
│   └── ...
├── requirements.txt
├── pytest.ini
├── .gitignore
└── README.md
```

- **`api/`**: Содержит модули, отвечающие за взаимодействие с API.
- **`data/`**: Содержит файлы с данными для параметризованных тестов и других целей.
- **`fixture/`**: Содержит фикстуры для настройки тестовой среды.
- **`helper/`**: Содержит вспомогательные модули и функции, используемые в проекте.
- **`model/`**: Содержит модели данных для бронирования и токена аутентификации.
- **`schema/`**: Содержит схемы для валидации данных
- **`test/`**: Содержит тестовые модули для всех пяти тест-кейсов
- **`requirements.txt`**: Файл, содержащий список зависимостей проекта, необходимых для его работы.
- **`pytest.ini`**: Конфигурационный файл для настройки поведения pytest.
- **`.gitignore`**: Файл, определяющий, какие файлы и папки должны игнорироваться системой контроля версий Git.

## Настройка
Чтобы начать работу с этим проектом, выполните следующие шаги:

1. Клонируйте репозиторий
```bash
    git clone https://github.com/SeitovaRalina/Programming-Practicum.git
    cd Programming-Practicum
```
2. Создайте вируальное окружение и активируйте его
```bash
    python -m venv venv
    venv\Scripts\activate
```

3. Установите все необходимые зависимости
```bash
    pip install -r requirements.txt
```
5. Установите браузеры для Playwright
```bash
    playwright install
```
6. Установите инструмент командной строки Allure Report, если он еще не установлен в вашей ОС. 

Обратите внимание, что для Allure Report требуется Java, см. [Инструкции по установке](https://allurereport.org/docs/install/).

## Запуск тестов
Для запуска тестов используйте следующую команду:
```bash
    python -m pytest --alluredir allure-results
```
Это выполнит все тесты проекта и создаст необходимые файлы для генерации Allure отчёта о прохождении тестирования.

## Генерация отчета

Наконец, запустите следующую команду, чтобы преобразовать результаты тестов в отчет в формате HTML. Это автоматически откроет ваш браузер для просмотра отчета.

```bash
    allure serve allure-results
```